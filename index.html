<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Baguio City Hazardous Waste Storage Facility</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.css"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet.markercluster@1.4.1/dist/MarkerCluster.Default.css"
    />
    <link rel="icon" type="image/x-icon" href="logo.ico" />
    <link rel="shortcut icon" type="image/x-icon" href="logo.ico" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
      body {
        font-family: "Segoe UI", Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f8f9fa;
        color: #333;
        line-height: 1.6;
      }
      header {
        background-image: linear-gradient(
            rgba(0, 100, 0, 0.45),
            rgba(0, 100, 0, 0.45)
          ),
          url("images/header-bg.jpg");
        background-size: cover;
        background-position: center;
        color: white;
        padding: 100px 20px 60px;
        text-align: center;
      }
      .logo-container {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 50px;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }
      .logo-container img {
        height: 90px;
        width: auto;
        object-fit: contain;
        background: rgba(255, 255, 255, 0.25);
        padding: 15px;
        border-radius: 15px;
        filter: brightness(1.1);
        transition: transform 0.3s;
      }
      .logo-container img:hover {
        transform: scale(1.08);
      }
      header h1 {
        margin: 0;
        font-size: 3em;
        text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.9);
      }
      header p {
        margin: 20px 0 0;
        font-size: 1.5em;
        text-shadow: 2px 2px 6px rgba(0, 0, 0, 0.9);
      }
      nav {
        padding: 0;
        position: sticky;
        top: 0;
        z-index: 100;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        display: flex;
        flex-wrap: nowrap;
        justify-content: center;
        background: linear-gradient(to bottom, #006400, #32cd32);
      }
      nav a {
        color: white;
        text-decoration: none;
        padding: 14px 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-weight: bold;
        font-size: 1.05em;
        transition: background-color 0.3s ease;
        position: relative;
      }
      nav a:hover {
        background-color: rgba(0, 128, 0, 0.8);
      }
      /* Dropdown */
      .nav-dropdown {
        position: relative;
      }
      .nav-dropdown > a {
        cursor: default;
      }
      .nav-dropdown > a i {
        margin-left: 8px;
        font-size: 0.8em;
        transition: transform 0.3s ease;
      }
      .nav-dropdown.open > a i {
        transform: rotate(180deg);
      }
      .nav-dropdown-content {
        display: none;
        position: absolute;
        background: #006400;
        width: 100%;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        border-radius: 0 0 8px 8px;
        top: 100%;
        left: 0;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.25s ease, visibility 0.25s ease;
        z-index: 100;
      }
      .nav-dropdown.open .nav-dropdown-content {
        display: block;
        opacity: 1;
        visibility: visible;
      }
      .nav-dropdown-content a {
        padding: 10px 24px;
        font-size: 0.95em;
        justify-content: center;
        white-space: nowrap;
      }
      .nav-dropdown-content a:hover {
        background: #228b22;
      }
      @media (hover: hover) and (pointer: fine) {
        .nav-dropdown:hover .nav-dropdown-content {
          display: block;
          opacity: 1;
          visibility: visible;
        }
        .nav-dropdown:hover > a i {
          transform: rotate(180deg);
        }
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 20px;
      }
      .tabs {
        display: flex;
        border-bottom: 3px solid #ddd;
        margin-bottom: 30px;
        flex-wrap: wrap;
      }
      .tab-btn {
        padding: 15px 30px;
        background: #eee;
        border: none;
        cursor: pointer;
        font-size: 1.2em;
        flex: 1;
        transition: background 0.3s;
      }
      .tab-btn.active {
        background: #228b22;
        color: white;
      }
      .tab-content {
        display: none;
        animation: fadeIn 0.5s;
      }
      .tab-content.active {
        display: block;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      input[type="text"] {
        width: 100%;
        max-width: 700px;
        padding: 14px;
        margin: 20px auto;
        display: block;
        font-size: 18px;
        border: 1px solid #ccc;
        border-radius: 8px;
        box-sizing: border-box;
      }
      .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
        gap: 25px;
      }
      .card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        transition: transform 0.3s;
      }
      .card:hover {
        transform: translateY(-8px);
      }
      .card h3 {
        margin-top: 0;
        color: #228b22;
        font-size: 1.4em;
      }
      .accepted {
        border-left: 6px solid #228b22;
      }
      .not-accepted {
        border-left: 6px solid #ffc107;
        opacity: 0.95;
      }
      .important-note {
        background: #d4edda;
        color: #155724;
        padding: 20px;
        border-radius: 10px;
        margin: 25px 0;
        text-align: center;
        font-weight: bold;
        font-size: 1.1em;
        border: 2px solid #c3e6cb;
      }
      .warning-note {
        background: #fff3cd;
        color: #856404;
        padding: 20px;
        border-radius: 10px;
        margin: 25px 0;
        text-align: center;
        font-weight: bold;
      }
      #map {
        height: 500px;
        border-radius: 12px;
        margin: 30px 0;
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
      }
      .locate-button {
        position: absolute;
        top: 15px;
        right: 15px;
        z-index: 1000;
        background: #228b22;
        color: white;
        border: none;
        padding: 12px 16px;
        border-radius: 8px;
        font-size: 1em;
        font-weight: bold;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .locate-button:hover {
        background: #006400;
      }
      .locate-button i {
        font-size: 1.2em;
      }
      footer {
        background: #333;
        color: white;
        padding: 40px 20px 20px;
        margin-top: 50px;
        font-size: 1em;
      }
      .footer-contact {
        max-width: 1200px;
        margin: 0 auto 20px auto;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        text-align: left;
      }
      .footer-contact div {
        line-height: 1.8;
      }
      .footer-contact strong {
        color: #4caf50;
      }
      .contact-item {
        display: flex;
        align-items: center;
        margin-bottom: 10px;
      }
      .contact-item i {
        margin-right: 10px;
        font-size: 1.2em;
        color: #4caf50;
      }
      .contact-item .label {
        margin-right: 8px;
        font-weight: bold;
      }
      .footer-social {
        text-align: center;
        margin: 20px 0;
      }
      .footer-social a {
        color: white;
        margin: 0 15px;
        font-size: 1.2em;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        white-space: nowrap;
      }
      .footer-social a i {
        margin-right: 8px;
        font-size: 1em;
      }
      .footer-social a:hover {
        color: #4caf50;
      }
      .footer-copyright {
        text-align: center;
        font-size: 0.9em;
        border-top: 1px solid #555;
        padding-top: 20px;
        margin-top: 20px;
      }
      .hidden {
        display: none;
      }
      #back-to-top {
        position: fixed;
        bottom: 30px;
        left: 30px;
        right: auto;
        background: rgba(34, 139, 34, 0.25);
        color: white;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.8em;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        z-index: 1000;
      }
      #back-to-top.show {
        opacity: 1;
        visibility: visible;
      }
      #back-to-top:hover {
        background: #228b22;
        transform: scale(1.1);
      }
      html {
        scroll-behavior: smooth;
      }
      @media (max-width: 768px) {
        header {
          padding: 30px 20px 40px;
        }
        header h1 {
          font-size: 2.5em;
        }
        .logo-container {
          gap: 20px;
          margin-bottom: 20px;
        }
        .logo-container img {
          height: 60px;
          padding: 10px;
        }
        nav {
          flex-wrap: wrap;
        }
        nav > * {
          flex: 1 1 33.33%;
          max-width: 33.33%;
          box-sizing: border-box;
        }
        nav a {
          padding: 14px 8px;
          font-size: 0.92em;
        }
        /* Mobile: absolute dropdown with same width as parent item */
        .nav-dropdown-content {
          position: absolute;
          width: 100%;
          left: 0;
          background: #006400;
          box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
          border-radius: 0 0 8px 8px;
        }
        .nav-dropdown-content a {
          padding: 12px 10px;
          font-size: 0.9em;
        }
        .tab-btn {
          flex-basis: 100%;
          font-size: 1.1em;
        }
        footer {
          padding: 20px;
        }
        .footer-contact {
          gap: 15px;
        }
        .footer-contact div {
          line-height: 1.5;
          font-size: 0.95em;
        }
        .footer-copyright {
          padding-top: 15px;
          margin-top: 15px;
        }
        .contact-item .label {
          display: block;
          margin-bottom: 4px;
        }
        #back-to-top {
          width: 45px;
          height: 45px;
          font-size: 1.6em;
          bottom: 20px;
          left: 20px;
          right: auto;
        }
        .locate-button {
          padding: 10px 12px;
          font-size: 0.9em;
          top: 10px;
          right: 10px;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="logo-container">
        <img src="images/baguio-city-logo.png" alt="Baguio City Logo" />
        <img src="images/cepmo-logo.png" alt="CEPMO Logo" />
        <img src="images/breathe-baguio-logo.png" alt="Breathe Baguio Logo" />
      </div>
      <h1>Baguio City Hazardous Waste Storage Facility</h1>
      <p>Safe & Responsible Disposal Guide</p>
    </header>
    <nav>
      <a href="index.html">Home</a>
      <div class="nav-dropdown">
        <a href="laws.html" id="lawsLink"
          >Laws<i class="fas fa-chevron-down"></i
        ></a>
        <div class="nav-dropdown-content">
          <a href="hw_laws.html">HW Laws</a>
          <a href="ordinance.html">Ordinance</a>
        </div>
      </div>
      <a href="reduce.html">Reduce HHW</a>
      <a href="activities.html">Activities</a>
      <a href="announcements.html">Announcements</a>
      <a href="#footer">Contact Info</a>
    </nav>
    <div class="container">
      <h2 style="text-align: center; color: #228b22">
        Happy New Year from HWM Section
      </h2>
      <div class="important-note">
        <strong>Acceptance after Hazardous Waste Generator ID approval:</strong
        ><br />
        Used Oil • Busted Fluorescent Lamps (BFL) • E-Waste • Expired
        Medicines<br /><br />
        Low-Cost Drop-Off Service – Only ₱10 per month per household!
      </div>
      <p
        style="
          text-align: center;
          font-size: 1.2em;
          max-width: 900px;
          margin: 30px auto;
        "
      >
        Managed by the City Environment and Parks Management Office (CEPMO).<br />
        <strong>Storage Facility Address:</strong> BSTP, North Sanitary Camp,
        Baguio City
      </p>
      <div class="tabs">
        <button class="tab-btn active" data-tab="accepted">
          Accepted Items
        </button>
        <button class="tab-btn" data-tab="general">General HHW Info</button>
        <button class="tab-btn" data-tab="locations">Drop-Off Points</button>
      </div>
      <div id="accepted" class="tab-content active">
        <input
          type="text"
          id="search-accepted"
          placeholder="Search accepted items..."
        />
        <div class="important-note">
          Low-Cost Drop-Off Service – Only ₱10 per month per household!
        </div>
        <div class="grid" id="accepted-grid">
          <div class="card accepted">
            <h3>Used Oil</h3>
            <p>
              <strong>Why hazardous?</strong> Pollutes water and soil severely.
            </p>
            <p>
              <strong>How to dispose:</strong> Pour into sealed containers; drop
              at facility/events.
            </p>
          </div>
          <div class="card accepted">
            <h3>Busted Fluorescent Lamps (BFL)</h3>
            <p><strong>Why hazardous?</strong> Contain mercury.</p>
            <p>
              <strong>How to dispose:</strong> Wrap carefully; avoid further
              breakage.
            </p>
          </div>
          <div class="card accepted">
            <h3>E-Waste</h3>
            <p><strong>Why hazardous?</strong> Contains lead, mercury, etc.</p>
            <p>
              <strong>How to dispose:</strong> Drop intact items at Bakakeng
              Central MRF-TSDF or events.
            </p>
          </div>
          <div class="card accepted">
            <h3>Expired Medicines</h3>
            <p>
              <strong>Why hazardous?</strong> Contaminates water if flushed.
            </p>
            <p><strong>How to dispose:</strong> Bring in original packaging.</p>
          </div>
        </div>
      </div>
      <div id="general" class="tab-content">
        <h2
          style="
            text-align: center;
            color: #228b22;
            margin-top: 0;
            padding-top: 20px;
          "
        >
          General Household Hazardous Waste Information
        </h2>
        <p style="text-align: center; margin-bottom: 25px">
          These are common household items that are hazardous in the
          Philippines. Only 4 are accepted at the facility right now. The rest
          must be stored safely at home until future collections.
        </p>
        <input
          type="text"
          id="search-general"
          placeholder="Search common household hazardous waste..."
        />
        <div class="warning-note">
          Not all items accepted yet. Store safely!
        </div>
        <div class="grid" id="general-grid">
          <div class="card not-accepted">
            <h3>Batteries</h3>
            <p>
              <strong>Why hazardous?</strong> Heavy metals leach into
              environment.
            </p>
            <p>
              <strong>Safe storage:</strong> Dry container; await collections.
            </p>
          </div>
          <div class="card not-accepted">
            <h3>Paints, Thinners & Solvents</h3>
            <p><strong>Why hazardous?</strong> Flammable/toxic VOCs.</p>
            <p><strong>Safe storage:</strong> Tight lids; ventilated area.</p>
          </div>
          <div class="card not-accepted">
            <h3>Household Cleaners</h3>
            <p><strong>Why hazardous?</strong> Corrosive chemicals.</p>
            <p>
              <strong>Safe storage:</strong> Original containers; child-safe.
            </p>
          </div>
          <div class="card not-accepted">
            <h3>Pesticides & Herbicides</h3>
            <p><strong>Why hazardous?</strong> Highly toxic.</p>
            <p><strong>Safe storage:</strong> Sealed; locked cabinet.</p>
          </div>
          <div class="card not-accepted">
            <h3>Aerosol Cans</h3>
            <p><strong>Why hazardous?</strong> Pressurized/flammable.</p>
            <p><strong>Safe storage:</strong> Do not puncture; cool place.</p>
          </div>
        </div>
      </div>
      <div id="locations" class="tab-content">
        <input
          type="text"
          id="search-location"
          placeholder="Search drop-off points..."
        />
        <p style="text-align: center; font-size: 1.1em">
          Click pins for details. Contact CEPMO for current schedules and event
          locations.
        </p>
        <div style="position: relative">
          <button class="locate-button" id="locateBtn">
            <i class="fas fa-location-crosshairs"></i> Find Nearest Drop-Off
          </button>
          <div id="map"></div>
        </div>
        <div class="grid" id="locations-list"></div>
      </div>
    </div>
    <footer id="footer">
      <div class="footer-contact">
        <div>
          <strong>Office Address:</strong><br />
          City Environment and Parks Management Office (CEPMO)<br />
          Baguio City Hall, Baguio City
        </div>
        <div>
          <strong>Storage Facility Address:</strong><br />
          BSTP, North Sanitary Camp, Baguio City<br /><br />
          <strong>Contact Information:</strong><br />
          <div class="contact-item">
            <i class="fas fa-phone"></i><span class="label">Mobile:</span> 0920
            818 0788
          </div>
          <div class="contact-item">
            <i class="fas fa-envelope"></i
            ><span class="label">Email:</span> hazwastecepmo@gmail.com
          </div>
        </div>
      </div>
      <div class="footer-social">
        <a href="https://facebook.com/cepmobaguio" target="_blank"
          ><i class="fab fa-facebook-f"></i>Facebook</a
        >
        <a href="https://instagram.com/cepmobaguio" target="_blank"
          ><i class="fab fa-instagram"></i>Instagram</a
        >
        <a href="https://twitter.com/cepmobaguio" target="_blank"
          ><i class="fab fa-x-twitter"></i>X (Twitter)</a
        >
      </div>
      <div class="footer-copyright">
        © 2025 CEPMO HWMS • All rights reserved.
      </div>
    </footer>
    <div
      id="back-to-top"
      onclick="window.scrollTo({top: 0, behavior: 'smooth'})"
    >
      <i class="fas fa-arrow-up"></i>
    </div>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.4.1/dist/leaflet.markercluster.js"></script>
    <script>
      // Mobile dropdown toggle
      const lawsLink = document.getElementById("lawsLink");
      const dropdown = lawsLink.parentElement;
      lawsLink.addEventListener("click", function (e) {
        if (window.innerWidth <= 768) {
          e.preventDefault();
          dropdown.classList.toggle("open");
        }
      });
      document.addEventListener("click", function (e) {
        if (window.innerWidth <= 768 && !dropdown.contains(e.target)) {
          dropdown.classList.remove("open");
        }
      });
      window.addEventListener("scroll", function () {
        const btn = document.getElementById("back-to-top");
        if (window.scrollY > 300) {
          btn.classList.add("show");
        } else {
          btn.classList.remove("show");
        }
      });
      function openTab(tabName) {
        document
          .querySelectorAll(".tab-content")
          .forEach((tab) => tab.classList.remove("active"));
        document
          .querySelectorAll(".tab-btn")
          .forEach((btn) => btn.classList.remove("active"));
        document.getElementById(tabName).classList.add("active");
        document
          .querySelector(`.tab-btn[data-tab="${tabName}"]`)
          .classList.add("active");
        if (tabName === "locations" && !window.mapInitialized) {
          initializeMap();
          window.mapInitialized = true;
        }
      }
      document
        .querySelectorAll(".tab-btn")
        .forEach((btn) =>
          btn.addEventListener("click", () => openTab(btn.dataset.tab))
        );
      document
        .getElementById("search-accepted")
        .addEventListener("input", function () {
          const query = this.value.toLowerCase();
          document.querySelectorAll("#accepted-grid .card").forEach((card) => {
            card.classList.toggle(
              "hidden",
              !card.textContent.toLowerCase().includes(query)
            );
          });
        });
      document
        .getElementById("search-general")
        .addEventListener("input", function () {
          const query = this.value.toLowerCase();
          document.querySelectorAll("#general-grid .card").forEach((card) => {
            card.classList.toggle(
              "hidden",
              !card.textContent.toLowerCase().includes(query)
            );
          });
        });
      document
        .getElementById("search-location")
        .addEventListener("input", function () {
          const query = this.value.toLowerCase();
          document.querySelectorAll("#locations-list .card").forEach((card) => {
            card.classList.toggle(
              "hidden",
              !card.textContent.toLowerCase().includes(query)
            );
          });
        });
      let map, markers, userMarker;
      function initializeMap() {
        map = L.map("map").setView([16.415, 120.593], 13);
        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution: "&copy; OpenStreetMap contributors",
        }).addTo(map);
        markers = L.markerClusterGroup();
        const locations = [
          {
            name: "UC",
            address: "UC",
            lat: 16.40875,
            lng: 120.5978032,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "SLU",
            address: "SLU",
            lat: 16.419005,
            lng: 120.597123,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "UP Baguio",
            address: "UP Baguio",
            lat: 16.405246,
            lng: 120.598592,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "TSD Facility",
            address: "TSD Facility",
            lat: 16.397634,
            lng: 120.580367,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "Cabinet Hill-T. Camp BH",
            address: "Cabinet Hill-T. Camp BH",
            lat: 16.410929,
            lng: 120.603586,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "WHWMD Office",
            address: "WHWMD Office",
            lat: 16.430204,
            lng: 120.597355,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "Dontogan Barangay Hall",
            address: "Dontogan Barangay Hall",
            lat: 16.377249,
            lng: 120.568491,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "Bayan Park",
            address: "Bayan Park (Community Park)",
            lat: 16.42707,
            lng: 120.606786,
            hours: "Contact for hours",
            notes: "Community Park location",
          },
          {
            name: "Bayan Park Village BH",
            address: "Bayan Park Village Barangay Hall",
            lat: 16.427367,
            lng: 120.60618,
            hours: "Contact for hours",
            notes: "Barangay Hall drop-off point",
          },
          {
            name: "Kabayanihan BH",
            address: "Kabayanihan BH",
            lat: 16.414714,
            lng: 120.596804,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Mines View Park BH",
            address: "Mines View Park BH",
            lat: 16.419823,
            lng: 120.626995,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "St. Joseph BH",
            address: "St. Joseph BH",
            lat: 16.417022,
            lng: 120.611089,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Sto. Rosario BH",
            address: "Sto. Rosario BH",
            lat: 16.401634,
            lng: 120.587231,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Camp Allen BH",
            address: "Camp Allen BH",
            lat: 16.415743,
            lng: 120.592153,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Slaughter House BH",
            address: "Slaughter House BH",
            lat: 16.420429,
            lng: 120.594461,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "East Quirino Hill BH",
            address: "East Quirino Hill BH",
            lat: 16.431027,
            lng: 120.593382,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Military Cut-Off BH",
            address: "Military Cut-Off BH",
            lat: 16.402152,
            lng: 120.597763,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "San Luis Village BH",
            address: "San Luis Village BH",
            lat: 16.405716,
            lng: 120.576663,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "New Lucban BH",
            address: "New Lucban BH",
            lat: 16.420981,
            lng: 120.596739,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "East Modern Site BH",
            address: "East Modern Site BH",
            lat: 16.421994,
            lng: 120.60532,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Holy Ghost Ext. BH",
            address: "Holy Ghost Ext. BH",
            lat: 16.418536,
            lng: 120.604514,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Salud Mitra BH",
            address: "Salud Mitra BH",
            lat: 16.411326,
            lng: 120.601852,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "East Bayan Park Aurora Hill BH",
            address: "East Bayan Park Aurora Hill BH",
            lat: 16.427267,
            lng: 120.608148,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Andres Bonifacio BH",
            address: "Andres Bonifacio BH",
            lat: 16.418713,
            lng: 120.584997,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Aurora Hill Proper BH",
            address: "Aurora Hill Proper BH",
            lat: 16.424399,
            lng: 120.604354,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Lourdes Subd. Proper BH",
            address: "Lourdes Subd. Proper BH",
            lat: 16.410867,
            lng: 120.58214,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Marcoville BH",
            address: "Marcoville BH",
            lat: 16.406424,
            lng: 120.603517,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Lourdes Subd Ext BH",
            address: "Lourdes Subd Ext BH",
            lat: 16.411361,
            lng: 120.584944,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "DPS Compound BH",
            address: "DPS Compound BH",
            lat: 16.405268,
            lng: 120.604204,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "Eco Fair @Malcolm",
            address: "Eco Fair @Malcolm",
            lat: 16.414056,
            lng: 120.595652,
            hours: "Contact for hours",
            notes: "Event or office",
          },
          {
            name: "Burnham-Legarda BH",
            address: "Burnham-Legarda BH",
            lat: 16.408383,
            lng: 120.594757,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
          {
            name: "West Modernsite BH",
            address: "West Modernsite BH",
            lat: 16.423715,
            lng: 120.603902,
            hours: "Contact for hours",
            notes: "Drop-off point",
          },
        ];
        locations.forEach((loc) => {
          const marker = L.marker([loc.lat, loc.lng]).bindPopup(
            `<b>${loc.name}</b><br>${loc.address}<br><i>${loc.hours}</i><br>${loc.notes}`
          );
          marker.locationData = loc;
          markers.addLayer(marker);
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `<h3>${loc.name}</h3>
                                  <p><strong>Address:</strong> ${
                                    loc.address
                                  }</p>
                                  <p><strong>Hours/Info:</strong> ${
                                    loc.hours
                                  }</p>
                                  <p><strong>Notes:</strong> ${loc.notes}</p>
                                  <p><strong>GPS:</strong> ${loc.lat.toFixed(
                                    4
                                  )}, ${loc.lng.toFixed(4)}</p>`;
          document.getElementById("locations-list").appendChild(card);
        });
        map.addLayer(markers);
        document
          .getElementById("locateBtn")
          .addEventListener("click", function () {
            if (!navigator.geolocation) {
              alert("Geolocation is not supported by your browser.");
              return;
            }
            this.disabled = true;
            this.innerHTML =
              '<i class="fas fa-spinner fa-spin"></i> Locating...';
            map.locate({ setView: true, maxZoom: 16 });
            map.on("locationfound", function (e) {
              const radius = e.accuracy / 2;
              if (userMarker) map.removeLayer(userMarker);
              userMarker = L.marker(e.latlng)
                .addTo(map)
                .bindPopup(`You are here (accuracy: ±${Math.round(radius)}m)`)
                .openPopup();
              L.circle(e.latlng, radius).addTo(map);
              let nearest = null;
              let minDist = Infinity;
              markers.eachLayer(function (marker) {
                const dist = map.distance(e.latlng, marker.getLatLng());
                if (dist < minDist) {
                  minDist = dist;
                  nearest = marker;
                }
              });
              if (nearest) {
                const distKm = (minDist / 1000).toFixed(2);
                map.setView(nearest.getLatLng(), 16);
                nearest.openPopup();
                nearest
                  .getPopup()
                  .setContent(
                    nearest.getPopup().getContent() +
                      `<br><br><strong>Nearest to you: ~${distKm} km away</strong>`
                  );
              }
              document.getElementById("locateBtn").innerHTML =
                '<i class="fas fa-location-crosshairs"></i> Find Nearest Drop-Off';
              document.getElementById("locateBtn").disabled = false;
            });
            map.on("locationerror", function () {
              alert(
                "Unable to find your location. Please allow location access and try again."
              );
              document.getElementById("locateBtn").innerHTML =
                '<i class="fas fa-location-crosshairs"></i> Find Nearest Drop-Off';
              document.getElementById("locateBtn").disabled = false;
            });
          });
      }
    </script>
    <script type="text/javascript">
      window.$crisp = [];
      window.CRISP_WEBSITE_ID = "5a71dc8c-0080-4374-8e55-960b01efcfa0";
      (function () {
        d = document;
        s = d.createElement("script");
        s.src = "https://client.crisp.chat/l.js";
        s.async = 1;
        d.getElementsByTagName("head")[0].appendChild(s);
      })();
    </script>
  </body>
</html>
